!function(){const clientConf={"checkLocation":"RESTRICT","checkIframe":"RESTRICT","checkFetchOverride":"RESTRICT","checkReferer":[],"id":"ad40656599b41c597ebc81ca2e09a677","ttl":86396,"checkWindowHierarchy":false,"token":"oauth2v2_a85168fb1e7ef2910ddfdd64128b10b8"},intFetch=window._authOrigFetch;try{void 0!==window._authTokenRegistrationFailed&&authThrow("double_registered"),function(){try{return window.self!==window.top}catch(e){return!0}}()&&authThrow("iframe_restriction",clientConf.checkIframe);const path=function(){let windows=[window];if(clientConf.checkWindowHierarchy){let w=windows[0];for(;w!==w.top;)w=w.parent,windows.push(w)}if(clientConf.checkReferer)for(let i=0,l=windows.length;i<l;i++){const path=getNotAllowedPath(windows[i]);if(null!=path)return path}return null}();null!==path&&authThrow("path_not_allowed",clientConf.checkLocation,path)}catch(e){return void(window._authTokenException&&window._authTokenException(clientConf.id,e))}if(!window._authTokenRegister)throw new Error("No OAuth2 token registration callback defined");function getNotAllowedPath(w){const path=w.location.path;return clientConf.checkReferer.forEach((pathRegExp=>{if(new RegExp(pathRegExp).test(path))return null})),path}function authThrow(code,mode,extra){const error={code:code,extra:extra};switch(mode){case void 0:case"RESTRICT":throw error;case"LOG_ONLY":return void console.error(error);case"ALLOW":return;default:throw new Error("Undefined mode: "+mode)}}window._authTokenRegister(clientConf.id,((url,config={})=>(config.headers=Object.assign({},config.headers,{Authorization:"bearer "+clientConf.token}),intFetch.then((origFetch=>{var func;return("function"!=typeof(func=origFetch)||"(){[nativecode]}"!==Function.prototype.toString.call(func).replace(/[\n ]/g,"").substr(-16))&&authThrow("non_native_fetch",clientConf.checkFetchOverride),origFetch(url,Object.assign({credentials:"same-origin"},config))})))))}();